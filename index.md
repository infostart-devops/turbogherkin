# Правила разработки сценариев проверки поведения

**_Набор правил находится в активной разработке, подпишитесь на изменения, чтобы не пропустить новые правила_***

* [Общие требования к наименованию функционала и сценариев](./rules/naming-common.md)
* [Именование экспортных сценариев](./rules/naming-exports.md)
* [Сценарий должен пройти формальную проверку запуском](./rules/run-tests.md)
* [Статус выполнения сценария должен соответствовать состоянию тестируемого функционала](./rules/scenario-status.md)
* [Сценарий должен завершаться шагом или группой шагов проверки (Тогда)](./rules/use-then-steps.md)
* [Используйте максимально конкретные шаблоны](./rules/avoid-greedy-wildcard.md)
* [Соблюдайте семантику ключевых слов Gherkin](./rules/keywords-semantic.md)
* [Шаги подготовки данных (Дано, Допустим) должны использоваться только в начале сценария](./rules/use-given.md)
* [Использование шагов интерактивной навигации в списках](./rules/ui-interactive-list-navigation.md)
* [Используйте ключевое слово "И" вместо повторения основного ключевого слова](./rules/use-and-keyword.md)
* [Не оставляйте в сценарии закомментированные шаги](./rules/dont-comment-unused-steps.md)

#### TODO

* Работа с параметрами экспортных сценариев
    * в параметрах экспортных сценариев не должно быть символов доллара
* Названия групповых шагов
* Использование структуры сценария
* Как структурировать каталог с фиче-файлами
* Декомпозировать сценарии с разными ветками на отдельные линейные сценарии
    * Шага ИЛИ нет в геркине. Имитация с Если vs декомпозиция vs Структура сценария с примерами
* Организация тестовых данных в сценариях
* Паттерн «Подготовка окружения — Основной сценарий — Очистка окружения»
* Порядок выполнения сценариев в фиче-файле
* Порядок выполнения фиче-файлов и сценариев
* Размер сценариев (сколько шагов должно быть в сценарии)
* Размер фиче-файлов (сколько сценариев должно быть в фиче-файле)
* Оформление фиче-файлов (style guide)
    * использовать табуляцию
    * Максимальная длина названия шага не более 140 символов
    * ключевые слова должны начинаться с большой буквы
    * названия фич, сценариев, шагов должны начинаться  большой буквы
    * внутри шага заглавные буквы использовать по такому же принципу, как в русском языке
    * не использовать знаки пунктуации внутри имени шага
    * разделять слова одиночными пробелами
    * визуально группировать логически связанные пары шагов Когда/Тогда
    * Использовать И в подряд идущих шагах одного типа, начиная со второго, а не повторять одно и то же ключевое слово
    * Начинать логическую группу шагов с ключевых слов Дано/Когда/Тогда, а не с ключевого слова И
    * Удалять неиспользуемые шаги 
    * Не оставлять закомментированные шаги
    * Оформление геркин-таблиц
        * форматировать таблицы
            * один пробел до и после вертикальной черты
        * оформление заголовков
        * длинные значения
        * использование кавычек (нужно ли обрамлять значения в кавычки)
    * строковые литералы
        * использование разных типов кавычек
        * экранирование спецсимволов
        * использование многострочных строк
            * данные в специальных форматах: json, xml
    * оформление кода
        * как можно меньше кода
        * спрятать в группу или вынести в экспортный шаг (какие критерии?)
        * форматировать код согласно стандартам 1С
        * передача параметров
            * контекстные вызовы/бесконтекстные вызовы
* подключение тест-клиентов
* тестирование под разными ролями (способы организации)
* литералы даты
* теги
    * единообразные принципы именования тегов
        * `@НотацияПаскаля`
        * `@ПередачаЗначений:12345`
* Требования к описанию экспортных шагов
* Секция Контекст
    * должна содержать небольшое количество шагов
    * переменные секции Контекст станут локальными переменными каждого из сценариев, но будут вычисляться отдельно для каждого из сценариев!
    * шаги секции Контекст должны быть шагами типа Дано
* Секция Переменные

