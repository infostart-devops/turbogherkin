# Соблюдайте семантику ключевых слов Gherkin

Ключевые слова `Дано`, `Когда`, `Тогда` и `И` (а также `Но`) должны использоваться в точном соответствии с их семантическим назначением, определённым в языке Gherkin:

*   `Дано` (Given) – описывает **начальные условия** или **предустановленное состояние** системы перед выполнением основного действия. Это исходное состояние системы, в которой выполняется сценарий.
*   `Когда` (When) – описывает **ключевое действие**, выполняемое пользователем или системой, которое является фокусом сценария. Обычно это одно действие, но может быть и несколько последовательных.
*   `Тогда` (Then) – описывает **ожидаемый результат** или **проверку состояния** системы после выполнения действия (шага `Когда`). Шаги `Тогда` содержат утверждения (assertions).
*   `И` (And), `Но` (But) – используются для **логического продолжения** предыдущего шага (`Дано`, `Когда` или `Тогда`), чтобы избежать повторения одного и того же ключевого слова и улучшить читаемость. См. правило [Используйте ключевое слово `И` вместо повторения основного ключевого слова](/rules/use-and-keyword.md).

## Пример

### ❌ Неправильно

В следующем примере семантика ключевых слов нарушена:

```gherkin
    Дано открываю навигационную ссылку 'e1cib/data/Документ.ЗаказКлиента'
    Когда открылось окно 'Заказы*' // Неправильно: 'Когда' используется для проверки состояния
    Тогда я нажимаю кнопку выбора у поля с именем 'ТипДоговора' // Неправильно: 'Тогда' используется для описания действия
    И из выпадающего списка с именем 'ТипДоговора' я выбираю точное значение 'Реализация'
    // ...
```

**Пояснение к ошибкам:**

1.  Шаг `Когда открылось окно 'Заказы*'` является проверкой результата открытия навигационной ссылки (шага `Дано`). Для проверок (утверждений) следует использовать `Тогда`.
2.  Шаг `Тогда я нажимаю кнопку выбора...` описывает действие пользователя, которое изменяет состояние системы. Для описания действий следует использовать `Когда`.

### ✔️ Правильно

Исправленный вариант с корректным использованием семантики:

```gherkin
    Дано открываю навигационную ссылку 'e1cib/data/Документ.ЗаказКлиента'
    Тогда открылось окно 'Заказы*' // Правильно: Проверка результата предыдущего шага

    Когда я нажимаю кнопку выбора у поля с именем 'ТипДоговора' // Правильно: Описание действия
    И из выпадающего списка с именем 'ТипДоговора' я выбираю точное значение 'Реализация' // Правильно: Продолжение действия
```
**Пояснение к исправленному варианту:**
*   Шаг `Дано открываю навигационную ссылку...` задает начальное состояние или действие, подготавливающее систему к основному тесту.
*   Шаг `Тогда открылось окно 'Заказы*'` корректно проверяет результат выполнения предыдущего шага (утверждение).
*   Шаг `Когда я нажимаю кнопку выбора...` описывает ключевое действие пользователя, изменяющее состояние системы.
*   Шаг `И из выпадающего списка...` логически продолжает действие, начатое в шаге `Когда`.
