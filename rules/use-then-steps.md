# Сценарий должен завершаться шагом или группой шагов проверки (`Тогда`)

Каждый сценарий должен обязательно завершаться шагом или группой шагов проверки (`Тогда`), описывающих ожидаемый результат выполняемых в сценарии действий.

Поскольку чаще сценарии тестирования через UI состоят из множества групп шагов, выполняющих какие-то рутинные действия в форме, то и каждая такая группа должна завершаться шагами проверки результата выполнения этих шагов:

- когда мы открываем окно, тогда мы должны проверить, что оно действительно открылось
- когда мы записываем новый элемент справочника, тогда мы должны убедиться, что он действительно появился среди других элементов в справочнике

и т.п.

## Пример 1.


### ❌ Не правильно

```gherkin
Сценарий: Создание нового вида цен
	Дано я запоминаю значение выражения '"Тест " + Строка(ТекущаяДата())' в переменную "НаименованиеВидаЦены"

	Когда открываю навигационную ссылку 'e1cib/data/Справочник.ВидыЦен'
	И я нажимаю на кнопку с именем 'ФормаСоздать'
		
	Когда в поле с именем 'Наименование' я ввожу текст "$НаименованиеВидаЦены$"
	И я нажимаю на кнопку с именем 'ФормаЗаписатьИЗакрыть'
```

Что тут не так:

* В сценарии только шаги-действия и нет ни одного шага проверки, который описывал бы, какой результат от выполнения действий мы ожидаем?

* И для отдельных групп шагов правильно было бы добавить шаги проверки промежуточных результатов проверки. Если этого не сделать, то если, например, по какой-то причине при нажатии кнопки "ФормаСоздать" форма нового элемента не откроется, сценарий упадет на шаге ввода текста в поле "Наименование", но мы об этом узнаем только по косвенным признакам или при отладке, а явно добавленая проверка, действительно ли окно открылось, нам точно и нагляно укажет на место и причину падения.
  

### ✔️ Правильно

```gherkin
Сценарий: Создание нового вида цен

	Дано я запоминаю значение выражения '"Тест " + Строка(ТекущаяДата())' в переменную "НаименованиеВидаЦены"

	Когда открываю навигационную ссылку 'e1cib/data/Справочник.ВидыЦен'
	Тогда открылось окно "Виды цен"
	
	Когда я нажимаю на кнопку с именем 'ФормаСоздать'
	Тогда открылось окно "Вид цены (создание)"
	
	Когда в поле с именем 'Наименование' я ввожу текст "$НаименованиеВидаЦены$"
	И я нажимаю на кнопку с именем 'ФормаЗаписатьИЗакрыть'
	
    Тогда я жду закрытия окна "Вид цены (создание) *" в течение 20 секунд
	И таблица "Список" содержит строки:
		| 'Наименование'           |
		| '$НаименованиеВидаЦены$' |
```
